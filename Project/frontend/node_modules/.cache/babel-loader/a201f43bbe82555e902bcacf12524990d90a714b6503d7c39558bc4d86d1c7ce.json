{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'writeReview',\n  data() {\n    return {\n      selectedRating: 0,\n      userId: 1000,\n      productId: 0,\n      productName: 'dd',\n      brand: 'dd',\n      selectedMessage: '-',\n      stringLen: 0,\n      pros: '',\n      itemId: this.$store.state.itemId,\n      cons: '',\n      prosPlaceHolder: `제형 / 사용감 / 트러블 유무 / 향 / 가성비 등\\n칭찬할 점에 대해 자유롭게 작성해주세요 :)`,\n      consPlaceHolder: `제형 / 사용감 / 트러블 유무 / 향 / 가성비 등\\n아쉬운 점에 대해 자유롭게 작성해주세요 :)`\n    };\n  },\n  created() {\n    this.productName = this.$route.query.ProductName;\n    this.brand = this.$route.query.Brand;\n  },\n  methods: {\n    setRating(rating) {\n      this.selectedRating = rating;\n      if (this.selectedRating == 1) {\n        this.selectedMessage = '별로에요';\n      } else if (this.selectedRating == 2) {\n        this.selectedMessage = '아쉬워요';\n      } else if (this.selectedRating == 3) {\n        this.selectedMessage = '보통이에요';\n      } else if (this.selectedRating == 4) {\n        this.selectedMessage = '맘에 들어요';\n      } else {\n        this.selectedMessage = '최고에요';\n      }\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n    writeReview() {\n      if (this.stringLength >= 30 && this.selectedRating !== 0) {\n        const getReviews = `http://192.168.0.32:3000/api/review/writeReview/${this.itemId}`;\n        axios.post(getReviews, {\n          \"userId\": this.userId,\n          \"prosReview\": this.pros,\n          \"consReview\": this.cons,\n          \"rating\": this.selectedRating\n        }, {\n          \"Content-Type\": 'application/json'\n        }).then(response => {\n          alert(response.data.message);\n          this.$router.push(\"/item\");\n        }).catch(error => {\n          console.error('API 요청 중 오류 발생:', error.response);\n        });\n      }\n    }\n  },\n  computed: {\n    stringLength() {\n      return this.pros.length + this.cons.length;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","selectedRating","userId","productId","productName","brand","selectedMessage","stringLen","pros","itemId","$store","state","cons","prosPlaceHolder","consPlaceHolder","created","$route","query","ProductName","Brand","methods","setRating","rating","goBack","$router","go","writeReview","stringLength","getReviews","post","then","response","alert","message","push","catch","error","console","computed","length"],"sources":["C:\\Users\\user\\Desktop\\swe-pknu\\swe-2023\\Project\\frontend\\src\\components\\writeReview.vue"],"sourcesContent":["<!-- 리뷰 등록 시 데이터베이스에 저장, 삭제 시 제거 -> 각각 fastapi(?) or aws 요청 -> 새로운 키워드 추출(저장)-->\r\n\r\n<template>\r\n    <div class=\"headMenu container-fluid text-center p-3\">\r\n        <div class=\"row justify-content-evenly\">\r\n            <div class=\"col d-flex justify-content-start\" @click=\"goBack\">\r\n                <img :src=\"require(`@/assets/icons/backward.png`)\" class=\"iconWidth\">\r\n            </div>\r\n            <div class=\"col d-flex justify-content-center\" style=\"font-size: 18px; font-weight: bold;\">\r\n                리뷰쓰기\r\n            </div>\r\n            <div class=\"col d-flex justify-content-end me-3\" style=\"color: gray;\" @click=\"writeReview\">\r\n                등록\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"box row d-flex align-items-center p-2 text-start\">\r\n        <div class=\"productImg img-fluid col-2 ms-2 \">\r\n            <img :src=\"require(`@/assets/photos/items/${this.$store.state.itemId}.jpg`)\">\r\n        </div>\r\n        <div class=\"itemText col-auto\">\r\n            <div class=\"itemBrand fw-bold\">{{ brand }}</div>\r\n            <div class=\"itemName fw-bold\">{{ productName }}</div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"photo container-fluid d-inline-block align-items-center\">\r\n        <div class=\"row\">\r\n            <div class=\"col fw-bold p-2 mb-2 mt-2\">\r\n                얼마나 만족하셨나요?\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col mb-2\">\r\n                <svg v-for=\"i in 5\" :key=\"i\" @click=\"setRating(i)\" width=\"40\" height=\"40\" viewBox=\"0 0 30 30\">\r\n                    <path\r\n                        d=\"M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Z\"\r\n                        :fill=\"i <= selectedRating ? 'gold' : '#e9ebf0'\" />\r\n                </svg>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col message fw-bold mb-2\">\r\n                {{ selectedMessage }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"reviewInput container-fluid\">\r\n        <div class=\"row d-flex jusfify-content-between p-3\">\r\n            <div class=\"col fw-bold\">\r\n                제품에 대해 알려주세요\r\n            </div>\r\n            <div class=\"strLen col text-end\">\r\n                <span v-if=\"stringLength > 30\" style=\"color: #5BF52F;\">{{ stringLength }}</span>\r\n                <span v-else>{{ stringLength }}</span>\r\n                <span> / 30자 이상</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"row text-start p-4\">\r\n            <div class=\"inputLabel d-flex align-items-center mb-1\">\r\n                <img class=\"thumb me-1 mb-2\" :src=\"require(`@/assets/icons/good.png`)\"><span class=\"fw-bold\">칭찬할 점</span>\r\n            </div>\r\n            <div class=\"inputBox\">  \r\n                <textarea v-model=\"pros\" class=\"inputText\" :placeholder=\"prosPlaceHolder\"/>\r\n            </div>\r\n            <div class=\"inputLabel d-flex align-items-center mb-1 mt-4\">\r\n                <img class=\"thumb me-1 mb-1\" :src=\"require(`@/assets/icons/bad.png`)\"><span class=\"fw-bold\">아쉬운 점</span>\r\n            </div>\r\n            <div class=\"inputBox\">  \r\n                <textarea v-model=\"cons\" class=\"inputText\" :placeholder=\"consPlaceHolder\"/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button\r\n    :class=\"stringLength >= 30 && selectedRating !== 0 ? 'submitButton' : 'justsubmitButton'\"\r\n    @click=\"writeReview\">\r\n    {{ stringLength > 30 && selectedRating !== 0 ? stringLength : '등록하기' }}\r\n</button>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: 'writeReview',\r\n    data() {\r\n        return {\r\n            selectedRating: 0,\r\n            userId: 1000,\r\n            productId: 0,\r\n            productName: 'dd',\r\n            brand: 'dd',\r\n            selectedMessage: '-',\r\n            stringLen: 0,\r\n            pros: '',\r\n            itemId: this.$store.state.itemId,\r\n            cons: '',\r\n            prosPlaceHolder: `제형 / 사용감 / 트러블 유무 / 향 / 가성비 등\\n칭찬할 점에 대해 자유롭게 작성해주세요 :)`,\r\n            consPlaceHolder: `제형 / 사용감 / 트러블 유무 / 향 / 가성비 등\\n아쉬운 점에 대해 자유롭게 작성해주세요 :)`\r\n        };\r\n    },\r\n    created() {\r\n        this.productName = this.$route.query.ProductName;\r\n        this.brand = this.$route.query.Brand;\r\n    },\r\n    methods: {\r\n        setRating(rating) {\r\n            this.selectedRating = rating;\r\n            if (this.selectedRating == 1) { this.selectedMessage = '별로에요' }\r\n            else if (this.selectedRating == 2) { this.selectedMessage = '아쉬워요' }\r\n            else if (this.selectedRating == 3) { this.selectedMessage = '보통이에요' }\r\n            else if (this.selectedRating == 4) { this.selectedMessage = '맘에 들어요' }\r\n            else { this.selectedMessage = '최고에요' }\r\n        },\r\n        goBack() {\r\n            this.$router.go(-1);\r\n        },\r\n        writeReview() {\r\n            if(this.stringLength >= 30 && this.selectedRating !== 0) {\r\n                const getReviews = `http://192.168.0.32:3000/api/review/writeReview/${this.itemId}`;\r\n                axios.post(getReviews, {\r\n                    \"userId\": this.userId,\r\n                    \"prosReview\": this.pros,\r\n                    \"consReview\": this.cons,\r\n                    \"rating\": this.selectedRating,\r\n                }, {\"Content-Type\": 'application/json'})\r\n                    .then((response) => {\r\n                        alert(response.data.message);\r\n                        this.$router.push(\"/item\");\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('API 요청 중 오류 발생:', error.response);\r\n                    });\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        stringLength() {\r\n            return this.pros.length + this.cons.length;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.headMenu {\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.productImg img {\r\n    width: 60px;\r\n}\r\n\r\n.box {\r\n    border-bottom: 10px #edebeb solid;\r\n}\r\n\r\n.photo {\r\n    border-bottom: 10px #edebeb solid;\r\n}\r\n\r\n.itemBrand {\r\n    color: #5BF52F;\r\n}\r\n\r\n.reviewInput {\r\n    padding: 0;\r\n}\r\n\r\n.strLen {\r\n    font-size: 14px;\r\n    color: gray;\r\n}\r\n\r\n.inputLabel {\r\n    display: f\r\n}\r\n.thumb {\r\n    width: 25px;\r\n}\r\n\r\n.inputText {\r\n    width: 100%;\r\n    height: 160px;\r\n    border-radius: 10px;\r\n    border: 1px #ccc solid;\r\n    padding: 10px;\r\n}\r\n\r\n.justsubmitButton {\r\n    width: 100%;\r\n    color: white;\r\n    background-color: #ccc;\r\n    border: 0;\r\n    height: 40px;\r\n}\r\n\r\n.submitButton {\r\n    width: 100%;\r\n    color: white;\r\n    background-color: #5BF52F;\r\n    border: 0;\r\n    height: 40px;\r\n}\r\n\r\n.submitButton:active {\r\n    background-color: green;\r\n}\r\n</style>\r\n"],"mappings":";AAiFA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,cAAc,EAAE,CAAC;MACjBC,MAAM,EAAE,IAAI;MACZC,SAAS,EAAE,CAAC;MACZC,WAAW,EAAE,IAAI;MACjBC,KAAK,EAAE,IAAI;MACXC,eAAe,EAAE,GAAG;MACpBC,SAAS,EAAE,CAAC;MACZC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,MAAM;MAChCG,IAAI,EAAE,EAAE;MACRC,eAAe,EAAG,yDAAwD;MAC1EC,eAAe,EAAG;IACtB,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACX,WAAU,GAAI,IAAI,CAACY,MAAM,CAACC,KAAK,CAACC,WAAW;IAChD,IAAI,CAACb,KAAI,GAAI,IAAI,CAACW,MAAM,CAACC,KAAK,CAACE,KAAK;EACxC,CAAC;EACDC,OAAO,EAAE;IACLC,SAASA,CAACC,MAAM,EAAE;MACd,IAAI,CAACrB,cAAa,GAAIqB,MAAM;MAC5B,IAAI,IAAI,CAACrB,cAAa,IAAK,CAAC,EAAE;QAAE,IAAI,CAACK,eAAc,GAAI,MAAK;MAAE,OACzD,IAAI,IAAI,CAACL,cAAa,IAAK,CAAC,EAAE;QAAE,IAAI,CAACK,eAAc,GAAI,MAAK;MAAE,OAC9D,IAAI,IAAI,CAACL,cAAa,IAAK,CAAC,EAAE;QAAE,IAAI,CAACK,eAAc,GAAI,OAAM;MAAE,OAC/D,IAAI,IAAI,CAACL,cAAa,IAAK,CAAC,EAAE;QAAE,IAAI,CAACK,eAAc,GAAI,QAAO;MAAE,OAChE;QAAE,IAAI,CAACA,eAAc,GAAI,MAAK;MAAE;IACzC,CAAC;IACDiB,MAAMA,CAAA,EAAG;MACL,IAAI,CAACC,OAAO,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC;IACDC,WAAWA,CAAA,EAAG;MACV,IAAG,IAAI,CAACC,YAAW,IAAK,EAAC,IAAK,IAAI,CAAC1B,cAAa,KAAM,CAAC,EAAE;QACrD,MAAM2B,UAAS,GAAK,mDAAkD,IAAI,CAACnB,MAAO,EAAC;QACnFX,KAAK,CAAC+B,IAAI,CAACD,UAAU,EAAE;UACnB,QAAQ,EAAE,IAAI,CAAC1B,MAAM;UACrB,YAAY,EAAE,IAAI,CAACM,IAAI;UACvB,YAAY,EAAE,IAAI,CAACI,IAAI;UACvB,QAAQ,EAAE,IAAI,CAACX;QACnB,CAAC,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC,EAClC6B,IAAI,CAAEC,QAAQ,IAAK;UAChBC,KAAK,CAACD,QAAQ,CAAC/B,IAAI,CAACiC,OAAO,CAAC;UAC5B,IAAI,CAACT,OAAO,CAACU,IAAI,CAAC,OAAO,CAAC;QAC9B,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;UACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAACL,QAAQ,CAAC;QACpD,CAAC,CAAC;MACV;IACJ;EACJ,CAAC;EACDO,QAAQ,EAAE;IACNX,YAAYA,CAAA,EAAG;MACX,OAAO,IAAI,CAACnB,IAAI,CAAC+B,MAAK,GAAI,IAAI,CAAC3B,IAAI,CAAC2B,MAAM;IAC9C;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}