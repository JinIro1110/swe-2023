{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as d3 from 'd3';\nimport cloud from 'd3-cloud';\nexport default {\n  props: {\n    items: {\n      type: Object,\n      require: true\n    }\n  },\n  watch: {\n    items: {\n      handler() {\n        this.createWordClouds();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    createWordClouds() {\n      this.createWordCloud('#word-cloud-1', this.items.map(item => ({\n        text: item.PositiveKeyword,\n        size: item.PositiveRating * 2\n      })));\n      this.createWordCloud('#word-cloud-2', this.items.map(item => ({\n        text: item.NegativeKeyword,\n        size: item.NegativeRating * 2\n      })));\n    },\n    createWordCloud(containerId, words) {\n      const width = window.innerWidth;\n      const height = 400;\n      const layout = cloud().size([width, height]).words(words).padding(10).rotate(() => 0).font(\"Impact\").fontSize(d => d.size * 10).on(\"end\", words => this.draw(containerId, words));\n      layout.start();\n    },\n    draw(containerId, words) {\n      d3.select(containerId).select(\"svg\").remove();\n      const width = window.innerWidth;\n      const height = 400;\n      const svg = d3.select(containerId).append(\"svg\").attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n      svg.selectAll(\"text\").data(words).enter().append(\"text\").style(\"font-size\", d => d.size + \"px\").style(\"font-family\", \"Impact\").style(\"fill\", containerId === '#word-cloud-1' ? 'DodgerBlue' : 'Red').attr(\"text-anchor\", \"middle\").attr(\"transform\", d => `translate(${[d.x, d.y]})`).text(function (d) {\n        return d.text;\n      }).style(\"border\", \"1px solid black\").on(\"click\", (event, d) => {\n        if (containerId === '#word-cloud-1') {\n          this.$router.push({\n            name: 'similarItems',\n            query: {\n              KeyWord: d.text\n            }\n          });\n        } else {\n          this.$router.push({\n            name: 'negativeReviews',\n            query: {\n              KeyWord: d.text,\n              itemId: this.$store.state.itemId\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["d3","cloud","props","items","type","Object","require","watch","handler","createWordClouds","deep","methods","createWordCloud","map","item","text","PositiveKeyword","size","PositiveRating","NegativeKeyword","NegativeRating","containerId","words","width","window","innerWidth","height","layout","padding","rotate","font","fontSize","d","on","draw","start","select","remove","svg","append","attr","selectAll","data","enter","style","x","y","event","$router","push","name","query","KeyWord","itemId","$store","state"],"sources":["C:\\Users\\user\\Desktop\\swe-pknu\\swe-2023\\Project\\frontend\\src\\components\\WordCloud.vue"],"sourcesContent":["<template>\r\n    <div class=\"word-cloud-container\">\r\n        <div id=\"word-cloud-1\">\r\n            <div class=\"fs-1 fw-bold\">장점</div>\r\n        </div>\r\n        <div id=\"word-cloud-2\">\r\n            <div class=\"fs-1 fw-bold\">단점</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport * as d3 from 'd3';\r\nimport cloud from 'd3-cloud';\r\n\r\nexport default {\r\n    props: {\r\n        items: {\r\n            type: Object,\r\n            require: true,\r\n        }\r\n    },\r\n    watch: {\r\n        items: {\r\n            handler() {\r\n                this.createWordClouds();\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        createWordClouds() {\r\n            this.createWordCloud('#word-cloud-1', this.items.map(item => ({ text: item.PositiveKeyword, size: item.PositiveRating * 2 })));\r\n            this.createWordCloud('#word-cloud-2', this.items.map(item => ({ text: item.NegativeKeyword, size: item.NegativeRating * 2 })));\r\n        },\r\n        createWordCloud(containerId, words) {\r\n            const width = window.innerWidth;\r\n            const height = 400;\r\n            const layout = cloud()\r\n                .size([width, height])\r\n                .words(words)\r\n                .padding(10)\r\n                .rotate(() => 0)\r\n                .font(\"Impact\")\r\n                .fontSize(d => d.size * 10)\r\n                .on(\"end\", words => this.draw(containerId, words));\r\n            layout.start();\r\n        },\r\n        draw(containerId, words) {\r\n            d3.select(containerId).select(\"svg\").remove();\r\n            const width = window.innerWidth;\r\n            const height = 400;\r\n            const svg = d3.select(containerId).append(\"svg\")\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height)\r\n                .append(\"g\")\r\n                .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\r\n            svg.selectAll(\"text\")\r\n                .data(words)\r\n                .enter().append(\"text\")\r\n                .style(\"font-size\", d => d.size + \"px\")\r\n                .style(\"font-family\", \"Impact\")\r\n                .style(\"fill\", containerId === '#word-cloud-1' ? 'DodgerBlue' : 'Red')\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"transform\", d => `translate(${[d.x, d.y]})`)\r\n                .text(function (d) { return d.text; })\r\n                .style(\"border\", \"1px solid black\")\r\n                .on(\"click\", (event, d) => {\r\n                    if (containerId === '#word-cloud-1') {\r\n                        this.$router.push({\r\n                            name: 'similarItems',\r\n                            query: { KeyWord: d.text }\r\n                        });\r\n                    } else {\r\n                        this.$router.push({\r\n                            name: 'negativeReviews',\r\n                            query: { KeyWord: d.text, itemId: this.$store.state.itemId }\r\n                        });\r\n                    }\r\n                })\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.word-cloud-1,\r\n.word-cloud-2 {\r\n    width: 100%;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}