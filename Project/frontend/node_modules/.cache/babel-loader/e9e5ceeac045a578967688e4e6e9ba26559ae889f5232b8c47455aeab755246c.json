{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      consReviews: [],\n      consKeyWord: ''\n    };\n  },\n  created() {\n    this.consKeyWord = this.$route.query.KeyWord;\n  },\n  mounted() {\n    const getConsKeyWordReviews = `http://192.168.0.213:3000/api/review/getConsKeyWordReviews/`;\n    axios.get(getConsKeyWordReviews, {\n      params: {\n        \"itemId\": this.$store.state.itemId,\n        \"keyWord\": this.consKeyWord\n      }\n    }).then(response => {\n      this.consReviews = response.data.results;\n    }).catch(error => {\n      console.error('API 요청 중 오류 발생:', error);\n    });\n  },\n  methods: {\n    highlightKeyWord(text) {\n      if (!this.consKeyWord) return text;\n\n      // 텍스트를 공백을 기준으로 분할\n      const words = text.split(' ');\n      // 각 단어를 검사하여 일치하는 경우 빨간색 span으로 감싸기\n      const highlightedText = words.map(word => {\n        if (word.toLowerCase() === this.consKeyWord.toLowerCase()) {\n          return `<span class=\"highlight\">${word}</span>`;\n        }\n        return word;\n      }).join(' ');\n      return highlightedText;\n    }\n  }\n};","map":{"version":3,"names":["axios","data","consReviews","consKeyWord","created","$route","query","KeyWord","mounted","getConsKeyWordReviews","get","params","$store","state","itemId","then","response","results","catch","error","console","methods","highlightKeyWord","text","words","split","highlightedText","map","word","toLowerCase","join"],"sources":["/Users/jinsanghyeok/Desktop/swe-2023/Project/frontend/src/components/negativeReviews.vue"],"sourcesContent":["<template>\n    <div class=\"headMenu container-fluid text-center p-3\">\n        <div class=\"row justify-content-evenly\">\n            <div class=\"col d-flex justify-content-start\">\n                <img src=\"../assets/icons/backward.png\" class=\"iconWidth\">\n            </div>\n            <div class=\"col d-flex justify-content-center\" style=\"font-size: 17px; font-weight: lighter;\">\n                {{ keyWord }} 포함 리뷰\n            </div>\n            <div class=\"col\">\n            </div>\n        </div>\n    </div>\n    <div class=\"review p-3\" v-for=\"consReview in consReviews\" :key=\"consReview.ReviewID\">\n        <div class=\"\">\n            <div class=\"userInfo d-flex align-items-start text-start\">\n                <img class=\"profile\" :src=\"require('@/assets/icons/user.png')\">\n                <div class=\"babyInfo mb-2\">\n                    <div class=\"userName\">유저 {{ consReview.UserID }}</div>\n                    <div class=\"baby\">만 2세 <span>&#183;</span> 민감성 <span>&#183;</span> 여아</div>\n                    <svg v-for=\"i in 5\" :key=\"i\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\">\n                        <path :fill=\"i <= consReview.Rating ? 'gold' : '#ccc'\"\n                            d=\"M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Z\" />\n                    </svg>\n                </div>\n            </div>\n        </div>\n        <div class=\"reviewContainer\">\n            <img class=\"reviewIcon\" :src=\"require('@/assets/icons/bad.png')\">\n            <div class=\"reviewText\" v-html=\"highlightKeyWord(consReview.NegativeReviewText)\"></div>\n        </div>\n    </div>\n</template>\n\n<script scoped>\nimport axios from 'axios';\nexport default {\n    data() {\n        return {\n            consReviews: [],\n            consKeyWord: '',\n        };\n    },\n    created() {\n        this.consKeyWord = this.$route.query.KeyWord;\n    },\n    mounted() {\n        const getConsKeyWordReviews = `http://192.168.0.213:3000/api/review/getConsKeyWordReviews/`;\n            axios.get(getConsKeyWordReviews, {\n                params: {\n                    \"itemId\": this.$store.state.itemId,\n                    \"keyWord\": this.consKeyWord\n                }\n            })\n                .then((response) => {\n                    this.consReviews = response.data.results;\n                })\n                .catch((error) => {\n                    console.error('API 요청 중 오류 발생:', error);\n                });\n    },\n    methods: {\n        highlightKeyWord(text) {\n            if (!this.consKeyWord) return text;\n\n            // 텍스트를 공백을 기준으로 분할\n            const words = text.split(' ');\n            // 각 단어를 검사하여 일치하는 경우 빨간색 span으로 감싸기\n            const highlightedText = words.map(word => {\n                if (word.toLowerCase() === this.consKeyWord.toLowerCase()) {\n                    return `<span class=\"highlight\">${word}</span>`;\n                }\n                return word;\n            }).join(' ');\n\n            return highlightedText;\n        },\n    }\n}\n</script>\n\n<style>\n.rounded-circle {\n    width: 50px;\n    position: fixed;\n    bottom: 60px;\n    right: 30px;\n}\n\n.profile {\n    width: 40px;\n    border-radius: 100%;\n    padding: 5px;\n    background-color: #ccc;\n    margin-right: 10px;\n}\n\n.review {\n    border-bottom: 1px #ccc solid;\n}\n\n.reviewContainer {\n    display: flex;\n    align-items: flex-start;\n}\n\n.reviewIcon {\n    width: 22px;\n    margin-right: 10px;\n}\n\n.reviewText {\n    flex: 1;\n    text-align: start;\n}\n\n.userName {\n    font-weight: bold;\n}\n\n.highlight {\n    color: red;\n}\n</style>"],"mappings":"AAmCA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE;IACjB,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACD,WAAU,GAAI,IAAI,CAACE,MAAM,CAACC,KAAK,CAACC,OAAO;EAChD,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,MAAMC,qBAAoB,GAAK,6DAA4D;IACvFT,KAAK,CAACU,GAAG,CAACD,qBAAqB,EAAE;MAC7BE,MAAM,EAAE;QACJ,QAAQ,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,MAAM;QAClC,SAAS,EAAE,IAAI,CAACX;MACpB;IACJ,CAAC,EACIY,IAAI,CAAEC,QAAQ,IAAK;MAChB,IAAI,CAACd,WAAU,GAAIc,QAAQ,CAACf,IAAI,CAACgB,OAAO;IAC5C,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IAC3C,CAAC,CAAC;EACd,CAAC;EACDE,OAAO,EAAE;IACLC,gBAAgBA,CAACC,IAAI,EAAE;MACnB,IAAI,CAAC,IAAI,CAACpB,WAAW,EAAE,OAAOoB,IAAI;;MAElC;MACA,MAAMC,KAAI,GAAID,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;MAC7B;MACA,MAAMC,eAAc,GAAIF,KAAK,CAACG,GAAG,CAACC,IAAG,IAAK;QACtC,IAAIA,IAAI,CAACC,WAAW,CAAC,MAAM,IAAI,CAAC1B,WAAW,CAAC0B,WAAW,CAAC,CAAC,EAAE;UACvD,OAAQ,2BAA0BD,IAAK,SAAQ;QACnD;QACA,OAAOA,IAAI;MACf,CAAC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC;MAEZ,OAAOJ,eAAe;IAC1B;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}