{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-21bd57cb\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"word-cloud-container\\\" data-v-21bd57cb><div id=\\\"word-cloud-1\\\" data-v-21bd57cb><div class=\\\"fs-1 fw-bold\\\" data-v-21bd57cb>장점</div></div><div id=\\\"word-cloud-2\\\" data-v-21bd57cb><div class=\\\"fs-1 fw-bold\\\" data-v-21bd57cb>단점</div></div></div>\", 1);\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-primary\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#exampleModal\"\n}, \" Launch demo modal \", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"modal fade\",\n  id: \"exampleModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"exampleModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_4 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_5 = {\n  class: \"modal-content\"\n};\nconst _hoisted_6 = {\n  class: \"modal-header\"\n};\nconst _hoisted_7 = {\n  class: \"modal-title\",\n  id: \"exampleModalLabel\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"modal-body\"\n};\nconst _hoisted_10 = {\n  class: \"\"\n};\nconst _hoisted_11 = {\n  class: \"userInfo d-flex align-items-start text-start\"\n};\nconst _hoisted_12 = [\"src\"];\nconst _hoisted_13 = {\n  class: \"babyInfo mb-2\"\n};\nconst _hoisted_14 = {\n  class: \"userName\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"baby\"\n}, [/*#__PURE__*/_createTextVNode(\"만 2세 \"), /*#__PURE__*/_createElementVNode(\"span\", null, \"·\"), /*#__PURE__*/_createTextVNode(\" 민감성 \"), /*#__PURE__*/_createElementVNode(\"span\", null, \"·\"), /*#__PURE__*/_createTextVNode(\" 여아\")], -1 /* HOISTED */));\nconst _hoisted_16 = [\"fill\"];\nconst _hoisted_17 = {\n  class: \"reviewContainer\"\n};\nconst _hoisted_18 = [\"src\"];\nconst _hoisted_19 = {\n  class: \"reviewText\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createCommentVNode(\" <div class=\\\"modal-container\\\" v-show=\\\"isModal\\\" @click.self=\\\"close\\\">\\n        <div class=\\\"headMenu container-fluid text-center p-3\\\">\\n            <div class=\\\"row justify-content-evenly\\\">\\n                <div class=\\\"col d-flex justify-content-start\\\" @click=\\\"closeModal\\\" @click.stop=\\\"\\\">\\n                    <img src=\\\"../assets/icons/backward.png\\\" class=\\\"iconWidth\\\">\\n                </div>\\n                <div class=\\\"col d-flex justify-content-center\\\" style=\\\"font-size: 17px; font-weight: lighter;\\\">\\n                    {{ keyWord }} 포함 리뷰\\n                </div>\\n                <div class=\\\"col\\\">\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"review p-3\\\" v-for=\\\"consReview in consReviews\\\" :key=\\\"consReview.ReviewID\\\">\\n            <div class=\\\"\\\">\\n                <div class=\\\"userInfo d-flex align-items-start text-start\\\">\\n                    <img class=\\\"profile\\\" :src=\\\"require('@/assets/icons/user.png')\\\">\\n                    <div class=\\\"babyInfo mb-2\\\">\\n                        <div class=\\\"userName\\\">유저 {{ consReview.UserID }}</div>\\n                        <div class=\\\"baby\\\">만 2세 <span>&#183;</span> 민감성 <span>&#183;</span> 여아</div>\\n                        <svg v-for=\\\"i in 5\\\" :key=\\\"i\\\" width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 24 24\\\">\\n                            <path :fill=\\\"i <= consReview.Rating ? 'gold' : '#ccc'\\\"\\n                                d=\\\"M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Z\\\" />\\n                        </svg>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"reviewContainer\\\">\\n                <img class=\\\"reviewIcon\\\" :src=\\\"require('@/assets/icons/bad.png')\\\">\\n                <div class=\\\"reviewText\\\">{{ consReview.NegativeReviewText }}</div>\\n            </div>\\n        </div>\\n    </div> \"), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h5\", _hoisted_7, _toDisplayString($data.consKeyWord), 1 /* TEXT */), _hoisted_8]), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.consReviews, consReview => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"review p-3\",\n      key: consReview.ReviewID\n    }, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"img\", {\n      class: \"profile\",\n      src: require('@/assets/icons/user.png')\n    }, null, 8 /* PROPS */, _hoisted_12), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, \"유저 \" + _toDisplayString(consReview.UserID), 1 /* TEXT */), _hoisted_15, (_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, i => {\n      return _createElementVNode(\"svg\", {\n        key: i,\n        width: \"12\",\n        height: \"12\",\n        viewBox: \"0 0 24 24\"\n      }, [_createElementVNode(\"path\", {\n        fill: i <= consReview.Rating ? 'gold' : '#ccc',\n        d: \"M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Z\"\n      }, null, 8 /* PROPS */, _hoisted_16)]);\n    }), 64 /* STABLE_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"img\", {\n      class: \"reviewIcon\",\n      src: require('@/assets/icons/bad.png')\n    }, null, 8 /* PROPS */, _hoisted_18), _createElementVNode(\"div\", _hoisted_19, _toDisplayString(consReview.NegativeReviewText), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","type","class","id","tabindex","_hoisted_1","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","$data","consKeyWord","_hoisted_8","_hoisted_9","_createElementBlock","_Fragment","_renderList","consReviews","consReview","key","ReviewID","_hoisted_10","_hoisted_11","src","require","_hoisted_13","_hoisted_14","UserID","_hoisted_15","i","width","height","viewBox","fill","Rating","d","_hoisted_17","_hoisted_19","NegativeReviewText"],"sources":["/Users/jinsanghyeok/Desktop/swe-2023/Project/frontend/src/components/WordCloud.vue"],"sourcesContent":["<template>\n    <div class=\"word-cloud-container\">\n        <div id=\"word-cloud-1\">\n            <div class=\"fs-1 fw-bold\">장점</div>\n        </div>\n        <div id=\"word-cloud-2\">\n            <div class=\"fs-1 fw-bold\">단점</div>\n        </div>\n    </div>\n    <!-- <div class=\"modal-container\" v-show=\"isModal\" @click.self=\"close\">\n        <div class=\"headMenu container-fluid text-center p-3\">\n            <div class=\"row justify-content-evenly\">\n                <div class=\"col d-flex justify-content-start\" @click=\"closeModal\" @click.stop=\"\">\n                    <img src=\"../assets/icons/backward.png\" class=\"iconWidth\">\n                </div>\n                <div class=\"col d-flex justify-content-center\" style=\"font-size: 17px; font-weight: lighter;\">\n                    {{ keyWord }} 포함 리뷰\n                </div>\n                <div class=\"col\">\n                </div>\n            </div>\n        </div>\n        <div class=\"review p-3\" v-for=\"consReview in consReviews\" :key=\"consReview.ReviewID\">\n            <div class=\"\">\n                <div class=\"userInfo d-flex align-items-start text-start\">\n                    <img class=\"profile\" :src=\"require('@/assets/icons/user.png')\">\n                    <div class=\"babyInfo mb-2\">\n                        <div class=\"userName\">유저 {{ consReview.UserID }}</div>\n                        <div class=\"baby\">만 2세 <span>&#183;</span> 민감성 <span>&#183;</span> 여아</div>\n                        <svg v-for=\"i in 5\" :key=\"i\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\">\n                            <path :fill=\"i <= consReview.Rating ? 'gold' : '#ccc'\"\n                                d=\"M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Z\" />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n            <div class=\"reviewContainer\">\n                <img class=\"reviewIcon\" :src=\"require('@/assets/icons/bad.png')\">\n                <div class=\"reviewText\">{{ consReview.NegativeReviewText }}</div>\n            </div>\n        </div>\n    </div> -->\n    <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n        Launch demo modal\n    </button>\n\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ consKeyWord }}</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"review p-3\" v-for=\"consReview in consReviews\" :key=\"consReview.ReviewID\">\n                        <div class=\"\">\n                            <div class=\"userInfo d-flex align-items-start text-start\">\n                                <img class=\"profile\" :src=\"require('@/assets/icons/user.png')\">\n                                <div class=\"babyInfo mb-2\">\n                                    <div class=\"userName\">유저 {{ consReview.UserID }}</div>\n                                    <div class=\"baby\">만 2세 <span>&#183;</span> 민감성 <span>&#183;</span> 여아</div>\n                                    <svg v-for=\"i in 5\" :key=\"i\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\">\n                                        <path :fill=\"i <= consReview.Rating ? 'gold' : '#ccc'\"\n                                            d=\"M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Z\" />\n                                    </svg>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"reviewContainer\">\n                            <img class=\"reviewIcon\" :src=\"require('@/assets/icons/bad.png')\">\n                            <div class=\"reviewText\">{{ consReview.NegativeReviewText }}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as d3 from 'd3';\nimport cloud from 'd3-cloud';\n\nexport default {\n    props: {\n        items: {\n            type: Object,\n            require: true,\n        }\n    },\n    data() {\n        return {\n            isModal: false,\n            consReviews: [],\n            consKeyWord: '',\n        };\n    },\n    watch: {\n        items: {\n            handler() {\n                this.createWordClouds();\n            },\n            deep: true\n        }\n    },\n    methods: {\n        createWordClouds() {\n            this.createWordCloud('#word-cloud-1', this.items.map(item => ({ text: item.PositiveKeyword, size: item.PositiveRating * 2 })));\n            this.createWordCloud('#word-cloud-2', this.items.map(item => ({ text: item.NegativeKeyword, size: item.NegativeRating * 2 })));\n        },\n        createWordCloud(containerId, words) {\n            const width = window.innerWidth;\n            const height = 400;\n            const layout = cloud()\n                .size([width, height])\n                .words(words)\n                .padding(10)\n                .rotate(() => 0)\n                .font(\"Impact\")\n                .fontSize(d => d.size * 10)\n                .on(\"end\", words => this.draw(containerId, words));\n            layout.start();\n        },\n        draw(containerId, words) {\n            d3.select(containerId).select(\"svg\").remove();\n            const width = window.innerWidth;\n            const height = 400;\n            const svg = d3.select(containerId).append(\"svg\")\n                .attr(\"width\", width)\n                .attr(\"height\", height)\n                .append(\"g\")\n                .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n            svg.selectAll(\"text\")\n                .data(words)\n                .enter().append(\"text\")\n                .style(\"font-size\", d => d.size + \"px\")\n                .style(\"font-family\", \"Impact\")\n                .style(\"fill\", containerId === '#word-cloud-1' ? 'DodgerBlue' : 'Red')\n                .attr(\"text-anchor\", \"middle\")\n                .attr(\"transform\", d => `translate(${[d.x, d.y]})`)\n                .text(function (d) { return d.text; })\n                .style(\"border\", \"1px solid black\")\n                .on(\"click\", (event, d) => {\n                    if (containerId === '#word-cloud-2') {\n                        this.fetchReviews(d.text);\n                        this.openModal();\n                    } else {\n                        // 장점 클릭 시 다른 처리\n                        this.$router.push({\n                            name: 'similarItems',\n                            query: { KeyWord: d.text }\n                        });\n                    }\n                })\n        },\n        fetchReviews(text) {\n            this.consKeyWord = text;\n            const getConsKeyWordReviews = `http://192.168.0.213:3000/api/review/getConsKeyWordReviews/`;\n            axios.get(getConsKeyWordReviews, {\n                params: {\n                    \"itemId\": this.$store.state.itemId,\n                    \"keyWord\": text\n                }\n            })\n                .then((response) => {\n                    this.consReviews = response.data.results;\n                })\n                .catch((error) => {\n                    console.error('API 요청 중 오류 발생:', error);\n                    // Consider updating the UI to inform the user about the error\n                });\n        },\n        openModal() {\n            this.isModal = true;\n        },\n\n        closeModal() {\n            this.isModal = false;\n        },\n\n    }\n};\n</script>\n\n<style scoped>\n.word-cloud-1,\n.word-cloud-2 {\n    width: 100%;\n}\n\n.rounded-circle {\n    width: 50px;\n    position: fixed;\n    bottom: 60px;\n    right: 30px;\n}\n\n.profile {\n    width: 40px;\n    border-radius: 100%;\n    padding: 5px;\n    background-color: #ccc;\n    margin-right: 10px;\n}\n\n.review {\n    border-bottom: 1px #ccc solid;\n}\n\n.reviewContainer {\n    display: flex;\n    align-items: flex-start;\n}\n\n.reviewIcon {\n    width: 22px;\n    margin-right: 10px;\n}\n\n.reviewText {\n    flex: 1;\n    text-align: start;\n}\n\n.userName {\n    font-weight: bold;\n}\n</style>\n"],"mappings":";;;gEA0CIA,mBAAA,CAES;EAFDC,IAAI,EAAC,QAAQ;EAACC,KAAK,EAAC,iBAAiB;EAAC,gBAAc,EAAC,OAAO;EAAC,gBAAc,EAAC;GAAgB,qBAEpG;;EAEKA,KAAK,EAAC,YAAY;EAACC,EAAE,EAAC,cAAc;EAACC,QAAQ,EAAC,IAAI;EAAC,iBAAe,EAAC,mBAAmB;EAAC,aAAW,EAAC;;;EAC/FF,KAAK,EAAC;AAAc;;EAChBA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAc;;EACjBA,KAAK,EAAC,aAAa;EAACC,EAAE,EAAC;;gEAC3BH,mBAAA,CAA4F;EAApFC,IAAI,EAAC,QAAQ;EAACC,KAAK,EAAC,WAAW;EAAC,iBAAe,EAAC,OAAO;EAAC,YAAU,EAAC;;;EAE1EA,KAAK,EAAC;AAAY;;EAEVA,KAAK,EAAC;AAAE;;EACJA,KAAK,EAAC;AAA8C;;;EAEhDA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAU;iEACrBF,mBAAA,CAA2E;EAAtEE,KAAK,EAAC;AAAM,I,8BAAC,OAAK,G,aAAAF,mBAAA,CAAmB,cAAb,GAAM,G,8BAAO,OAAK,G,aAAAA,mBAAA,CAAmB,cAAb,GAAM,G,8BAAO,KAAG,E;;;EAQ5EE,KAAK,EAAC;AAAiB;;;EAEnBA,KAAK,EAAC;AAAY;;6DArE/CG,UAOM,EACNC,mBAAA,+lEAgCU,EACVC,UAES,EAETP,mBAAA,CA8BM,OA9BNQ,UA8BM,GA7BFR,mBAAA,CA4BM,OA5BNS,UA4BM,GA3BFT,mBAAA,CA0BM,OA1BNU,UA0BM,GAzBFV,mBAAA,CAGM,OAHNW,UAGM,GAFFX,mBAAA,CAAqE,MAArEY,UAAqE,EAAAC,gBAAA,CAAnBC,KAAA,CAAAC,WAAW,kBAC7DC,UAA4F,C,GAEhGhB,mBAAA,CAoBM,OApBNiB,UAoBM,I,kBAnBFC,mBAAA,CAkBMC,SAAA,QAAAC,WAAA,CAlBuCN,KAAA,CAAAO,WAAW,EAAzBC,UAAU;yBAAzCJ,mBAAA,CAkBM;MAlBDhB,KAAK,EAAC,YAAY;MAAoCqB,GAAG,EAAED,UAAU,CAACE;QACvExB,mBAAA,CAYM,OAZNyB,WAYM,GAXFzB,mBAAA,CAUM,OAVN0B,WAUM,GATF1B,mBAAA,CAA+D;MAA1DE,KAAK,EAAC,SAAS;MAAEyB,GAAG,EAAEC,OAAO;0CAClC5B,mBAAA,CAOM,OAPN6B,WAOM,GANF7B,mBAAA,CAAsD,OAAtD8B,WAAsD,EAAhC,KAAG,GAAAjB,gBAAA,CAAGS,UAAU,CAACS,MAAM,kBAC7CC,WAA2E,G,cAC3Ed,mBAAA,CAGMC,SAAA,QAAAC,WAAA,CAHW,CAAC,EAANa,CAAC;aAAbjC,mBAAA,CAGM;QAHeuB,GAAG,EAAEU,CAAC;QAAEC,KAAK,EAAC,IAAI;QAACC,MAAM,EAAC,IAAI;QAACC,OAAO,EAAC;UACxDpC,mBAAA,CACmU;QAD5TqC,IAAI,EAAEJ,CAAC,IAAIX,UAAU,CAACgB,MAAM;QAC/BC,CAAC,EAAC;;0CAKtBvC,mBAAA,CAGM,OAHNwC,WAGM,GAFFxC,mBAAA,CAAiE;MAA5DE,KAAK,EAAC,YAAY;MAAEyB,GAAG,EAAEC,OAAO;0CACrC5B,mBAAA,CAAiE,OAAjEyC,WAAiE,EAAA5B,gBAAA,CAAtCS,UAAU,CAACoB,kBAAkB,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}